<Window x:Class="TTSOverlay.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="TTS Overlay"
        WindowStyle="None" AllowsTransparency="True"
        Background="Transparent" Topmost="True"
        MouseLeftButtonDown="Window_MouseLeftButtonDown"
        MouseLeftButtonUp="Window_MouseLeftButtonUp"
        MouseMove="Window_MouseMove">
    <Canvas x:Name="RootCanvas">
        <!-- Character Image -->
        <Image x:Name="CharacterImage"
               Width="{Binding CharacterWidth}"
               Height="{Binding CharacterHeight}"
               Canvas.Left="{Binding CharacterX}"
               Canvas.Top="{Binding CharacterY}"
               RenderOptions.BitmapScalingMode="NearestNeighbor" 
               Stretch="Fill"/>
        <!-- Speech Text -->
        <TextBlock x:Name="SpeechText"
                   Background="#E8DCD3"
                   Foreground="#211433"
                   FontFamily="pack://application:,,,/Fonts/#Munro Small"
                   FontSize="{Binding SpeechFontSize}"
                   Padding="10,0,10,3"
                   UseLayoutRounding="True"
                   SnapsToDevicePixels="True"
                   TextOptions.TextFormattingMode="Display"
                   TextOptions.TextRenderingMode="Aliased"
                   LineHeight="30"
                   LineStackingStrategy="BlockLineHeight"
                   Visibility="Collapsed"
                   TextWrapping="Wrap"
                   TextAlignment="Left"
                   MaxWidth="{Binding SpeechMaxWidth}"
                   Canvas.Left="{Binding SpeechX}"
                   Canvas.Top="{Binding SpeechY}">
            <TextBlock.Effect>
                <DropShadowEffect Color="Black"
                                  Direction="315"
                                  ShadowDepth="5"
                                  BlurRadius="0"
                                  RenderingBias="Performance"
                                  Opacity="1" />
            </TextBlock.Effect>
        </TextBlock>
    </Canvas>
</Window>